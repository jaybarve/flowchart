<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hospital Workflow Demo</title>
<style>
  body {
    margin:0;
    font-family:sans-serif;
    background:url('https://images.unsplash.com/photo-1588776814546-ec7b2f6c1ef3?auto=format&fit=crop&w=1920&q=80') no-repeat center center/cover;
    color:#fff;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
    backdrop-filter: blur(4px);
  }

  .overlay {
    position:absolute;
    top:0;left:0;right:0;bottom:0;
    background:rgba(15,23,36,0.7);
    z-index:0;
  }

  .container {
    position:relative;
    display:flex;
    gap:30px;
    align-items:center;
    max-height:90vh;
    flex-wrap:wrap;
    justify-content:center;
    z-index:1;
  }

  .pipeline {
    display:flex;
    flex-direction:column;
    justify-content:flex-start;
    align-items:center;
    position:relative;
    max-height:90vh;
    width:230px;
  }

  .stage {
    text-align:center;
    margin:12px 0;
    padding:10px 14px; 
    border:1px dashed #38bdf8;
    border-radius:6px;
    min-width:140px;
    transition: border-color 0.3s, box-shadow 0.3s, background 0.3s;
    font-size:14px;
  }

  .stage.active {
    border-color:#22d3ee;
    box-shadow:0 0 15px rgba(34,211,238,0.5);
    background: rgba(34,211,238,0.1);
  }

  .title {
    margin-top:4px;
    font-size:13px;
    color:#bae6fd;
  }

  .arrow {
    font-size:22px; 
    color:#22d3ee;
    text-shadow:0 0 4px #22d3ee,0 0 8px #67e8f9;
    margin:6px 0;
    animation:arrowPulse 1.5s infinite;
  }

  #startBtn {
    margin-top:16px;
    padding:10px 18px;
    border:none;
    border-radius:6px;
    background:#06b6d4;
    color:#fff;
    font-size:14px;
    cursor:pointer;
    box-shadow:0 0 8px #06b6d4;
    transition:background 0.3s;
  }

  #startBtn:hover {
    background:#0891b2;
  }

  .log-box {
    background:rgba(255,255,255,0.08);
    padding:14px;
    border-radius:8px;
    width:280px;
    max-height:90vh;
    overflow:auto;
    box-shadow:inset 0 0 6px rgba(255,255,255,0.1);
    font-size:13px;
  }

  .log-entry {
    margin:4px 0;
    color:#e0f2fe;
    opacity:0;
    animation:fadeIn 0.6s forwards;
  }

  .log-entry span {
    color:#38bdf8;
    font-weight:bold;
  }

  /* floating box */
  .file-box {
    width:55px;
    height:55px;
    border-radius:10px;
    background:#1e293b;
    position:absolute;
    top:0;
    left:50%;
    transform:translateX(-50%);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:26px;
    box-shadow:0 0 15px #22d3ee;
    opacity:0;
    transition: top 1s ease, opacity 0.4s ease;
  }

  .file-box.active {
    opacity:1;
  }

  .file-box.glow {
    animation:glowPulse 1.5s infinite;
  }

  .file-box.bounce {
    animation:bounce 0.6s ease;
  }

  @keyframes glowPulse{
    0%{box-shadow:0 0 8px #22d3ee}
    50%{box-shadow:0 0 16px #67e8f9,0 0 32px #67e8f9}
    100%{box-shadow:0 0 8px #22d3ee}
  }

  @keyframes bounce{
    0%{transform:translateX(-50%) translateY(-8px)}
    50%{transform:translateX(-50%) translateY(0)}
    70%{transform:translateX(-50%) translateY(-3px)}
    100%{transform:translateX(-50%) translateY(0)}
  }

  @keyframes arrowPulse{
    0%,100%{opacity:.4}
    50%{opacity:1}
  }

  @keyframes fadeIn{
    to{opacity:1}
  }
</style>
</head>
<body>
<div class="overlay"></div>
<div class="container">
  <div class="pipeline" id="pipeline">
    <div class="stage" data-stage="register"><div class="title">Patient Registration</div></div>
    <div class="arrow">‚¨á</div>
    <div class="stage" data-stage="upload"><div class="title">Upload Medical Report</div></div>
    <div class="arrow">‚¨á</div>
    <div class="stage" data-stage="analysis"><div class="title">AI Analysis</div></div>
    <div class="arrow">‚¨á</div>
    <div class="stage" data-stage="search"><div class="title">Best Hospital Search</div></div>
    <div class="arrow">‚¨á</div>
    <!-- New Second Opinion Stage -->
    <div class="stage" data-stage="opinion"><div class="title">Second Opinion</div></div>
    <div class="arrow">‚¨á</div>
    <div class="stage" data-stage="doctor"><div class="title">Connect with Doctor</div></div>
    <div class="arrow">‚¨á</div>
    <div class="stage" data-stage="approval"><div class="title">Approval & Treatment</div></div>
    <div style="text-align:center"><button id="startBtn">Start Demo</button></div>
    <div class="file-box" id="fileBox">üìù</div>
  </div>
  <div class="log-box" id="logBox">
    <div><strong>Process Log:</strong></div>
  </div>
</div>

<script>
const stages=['register','upload','analysis','search','opinion','doctor','approval'];
const stageEmojis={
  register:'üìù',
  upload:'üìÑ',
  analysis:'ü§ñ',
  search:'üè•',
  opinion:'üí¨',
  doctor:'üë®‚Äç‚öïÔ∏è',
  approval:'‚úÖ'
};
const messages={
  register:['Patient registering...','Registration completed üìù'],
  upload:['Uploading medical report...','Report uploaded üìÑ'],
  analysis:['AI analyzing report...','Analysis completed ü§ñ'],
  search:['Searching best hospital...','Hospital found üè•'],
  opinion:['Seeking second opinion...','Second opinion provided üí¨'],
  doctor:['Connecting with doctor...','Doctor connected üë®‚Äç‚öïÔ∏è'],
  approval:['Awaiting approval...','Treatment approved ‚úÖ']
};
const stageDelay = {
  register:1500,
  upload:1800,
  analysis:2000,
  search:1800,
  opinion:2000,
  doctor:1800,
  approval:1500
};

const startBtn=document.getElementById('startBtn');
const logBox=document.getElementById('logBox');
const fileBox=document.getElementById('fileBox');

function logMessage(msg){
  const div=document.createElement('div');
  div.className='log-entry';
  div.innerHTML=msg;
  logBox.appendChild(div);
  logBox.scrollTop=logBox.scrollHeight;
}

function runDemo(){
  startBtn.disabled=true;
  let i=0;
  logBox.innerHTML='<div><strong>Process Log:</strong></div>';
  fileBox.style.top='0px';
  fileBox.classList.add('active','glow');

  function next(){
    if(i<stages.length){
      const stage=document.querySelector(`[data-stage="${stages[i]}"]`);
      const rect=stage.getBoundingClientRect();
      const parentRect=document.getElementById('pipeline').getBoundingClientRect();
      const offset=rect.top - parentRect.top;
      fileBox.textContent=stageEmojis[stages[i]];
      fileBox.classList.remove('bounce');
      void fileBox.offsetWidth;
      fileBox.classList.add('bounce');
      fileBox.style.top=offset+'px';

      stage.classList.add('active');
      logMessage(`<span>${messages[stages[i]][0]}</span>`);

      setTimeout(()=>{
        logMessage(messages[stages[i]][1]);
        stage.classList.remove('active');
        i++; next();
      }, stageDelay[stages[i]]);
    } else {
      fileBox.textContent='üéâ';
      fileBox.classList.add('bounce');
      startBtn.disabled=false;
      startBtn.textContent='Restart Demo';
    }
  }

  next();
}

startBtn.addEventListener('click', runDemo);
</script>
</body>
</html>
